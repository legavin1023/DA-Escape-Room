import{_ as ne,r as ie,u as oe,o as le,a as se,c as fe,b as de}from"./index-D3EpmyH_.js";function j(R){throw new Error('Could not dynamically require "'+R+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}(function R(I,C,D){function G(e,t){if(!C[e]){if(!I[e]){var s=typeof j=="function"&&j;if(!t&&s)return s(e,!0);if(N)return N(e,!0);var w=new Error("Cannot find module '"+e+"'");throw w.code="MODULE_NOT_FOUND",w}var r=C[e]={exports:{}};I[e][0].call(r.exports,function(a){var i=I[e][1][a];return G(i||a)},r,r.exports,R,I,C,D)}return C[e].exports}for(var N=typeof j=="function"&&j,q=0;q<D.length;q++)G(D[q]);return G})({1:[function(R,I,C){function D(e,t,s,a){var r=0,a=a===void 0?{}:a,i=a.loop===void 0?null:a.loop,o=a.palette===void 0?null:a.palette;if(t<=0||s<=0||t>65535||s>65535)throw"Width/Height invalid.";function n(v){var m=v.length;if(m<2||m>256||m&m-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return m}e[r++]=71,e[r++]=73,e[r++]=70,e[r++]=56,e[r++]=57,e[r++]=97;var l=0,f=0;if(o!==null){for(var x=n(o);x>>=1;)++l;if(x=1<<l,--l,a.background!==void 0){if(f=a.background,f>=x)throw"Background index out of range.";if(f===0)throw"Background index explicitly passed as 0."}}if(e[r++]=t&255,e[r++]=t>>8&255,e[r++]=s&255,e[r++]=s>>8&255,e[r++]=(o!==null?128:0)|l,e[r++]=f,e[r++]=0,o!==null)for(var u=0,F=o.length;u<F;++u){var g=o[u];e[r++]=g>>16&255,e[r++]=g>>8&255,e[r++]=g&255}if(i!==null){if(i<0||i>65535)throw"Loop count invalid.";e[r++]=33,e[r++]=255,e[r++]=11,e[r++]=78,e[r++]=69,e[r++]=84,e[r++]=83,e[r++]=67,e[r++]=65,e[r++]=80,e[r++]=69,e[r++]=50,e[r++]=46,e[r++]=48,e[r++]=3,e[r++]=1,e[r++]=i&255,e[r++]=i>>8&255,e[r++]=0}var h=!1;this.addFrame=function(v,m,y,p,B,c){if(h===!0&&(--r,h=!1),c=c===void 0?{}:c,v<0||m<0||v>65535||m>65535)throw"x/y invalid.";if(y<=0||p<=0||y>65535||p>65535)throw"Width/Height invalid.";if(B.length<y*p)throw"Not enough pixels for the frame size.";var O=!0,T=c.palette;if(T==null&&(O=!1,T=o),T==null)throw"Must supply either a local or global palette.";for(var Q=n(T),S=0;Q>>=1;)++S;Q=1<<S;var J=c.delay===void 0?0:c.delay,L=c.disposal===void 0?0:c.disposal;if(L<0||L>3)throw"Disposal out of range.";var K=!1,A=0;if(c.transparent!==void 0&&c.transparent!==null&&(K=!0,A=c.transparent,A<0||A>=Q))throw"Transparent color index.";if((L!==0||K||J!==0)&&(e[r++]=33,e[r++]=249,e[r++]=4,e[r++]=L<<2|(K===!0?1:0),e[r++]=J&255,e[r++]=J>>8&255,e[r++]=A,e[r++]=0),e[r++]=44,e[r++]=v&255,e[r++]=v>>8&255,e[r++]=m&255,e[r++]=m>>8&255,e[r++]=y&255,e[r++]=y>>8&255,e[r++]=p&255,e[r++]=p>>8&255,e[r++]=O===!0?128|S-1:0,O===!0)for(var k=0,d=T.length;k<d;++k){var E=T[k];e[r++]=E>>16&255,e[r++]=E>>8&255,e[r++]=E&255}r=G(e,r,S<2?2:S,B)},this.end=function(){return h===!1&&(e[r++]=59,h=!0),r}}function G(e,t,s,w){e[t++]=s;var r=t++,a=1<<s,i=a-1,o=a+1,n=o+1,l=s+1,f=0,x=0;function u(c){for(;f>=c;)e[t++]=x&255,x>>=8,f-=8,t===r+256&&(e[r]=255,r=t++)}function F(c){x|=c<<f,f+=l,u(8)}var g=w[0]&i,h={};F(a);for(var v=1,m=w.length;v<m;++v){var y=w[v]&i,p=g<<8|y,B=h[p];if(B===void 0){for(x|=g<<f,f+=l;f>=8;)e[t++]=x&255,x>>=8,f-=8,t===r+256&&(e[r]=255,r=t++);n===4096?(F(a),n=o+1,l=s+1,h={}):(n>=1<<l&&++l,h[p]=n++),g=y}else g=B}return F(g),F(o),u(1),r+1===t?e[r]=0:(e[r]=t-r-1,e[t++]=0),t}function N(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!==56||e[t++]!==97)throw"Invalid GIF 87a/89a header.";var s=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,r=e[t++],a=r>>7,i=r&7,o=1<<i+1;e[t++],e[t++];var n=null;a&&(n=t,t+=o*3);var l=!0,f=[],x=0,u=null,F=0,g=null;for(this.width=s,this.height=w;l&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){var h=e[t++];if(h===0)break;t+=h}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw"Invalid graphics extension block.";var v=e[t++];x=e[t++]|e[t++]<<8,u=e[t++],v&1||(u=null),F=v>>2&7,t++;break;case 254:for(;;){var h=e[t++];if(h===0)break;t+=h}break;default:throw"Unknown graphic control label: 0x"+e[t-1].toString(16)}break;case 44:var m=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,p=e[t++]|e[t++]<<8,B=e[t++]|e[t++]<<8,c=e[t++],O=c>>7,T=c>>6&1,Q=c&7,S=1<<Q+1,J=n,L=!1;if(O){var L=!0;J=t,t+=S*3}var K=t;for(t++;;){var h=e[t++];if(h===0)break;t+=h}f.push({x:m,y,width:p,height:B,has_local_palette:L,palette_offset:J,data_offset:K,data_length:t-K,transparent_index:u,interlaced:!!T,delay:x,disposal:F});break;case 59:l=!1;break;default:throw"Unknown gif block: 0x"+e[t-1].toString(16)}this.numFrames=function(){return f.length},this.loopCount=function(){return g},this.frameInfo=function(A){if(A<0||A>=f.length)throw"Frame index out of range.";return f[A]},this.decodeAndBlitFrameBGRA=function(A,k){var d=this.frameInfo(A),E=d.width*d.height,M=new Uint8Array(E);q(e,d.data_offset,M,E);var z=d.palette_offset,V=d.transparent_index;V===null&&(V=256);var U=d.width,$=s-U,H=U,Y=(d.y*s+d.x)*4,b=((d.y+d.height)*s+d.x)*4,_=Y,X=$*4;d.interlaced===!0&&(X+=s*4*7);for(var Z=8,P=0,ee=M.length;P<ee;++P){var W=M[P];if(H===0&&(_+=X,H=U,_>=b&&(X=$*4+s*4*(Z-1),_=Y+(U+$)*(Z<<1),Z>>=1)),W===V)_+=4;else{var re=e[z+W*3],te=e[z+W*3+1],ae=e[z+W*3+2];k[_++]=ae,k[_++]=te,k[_++]=re,k[_++]=255}--H}},this.decodeAndBlitFrameRGBA=function(A,k){var d=this.frameInfo(A),E=d.width*d.height,M=new Uint8Array(E);q(e,d.data_offset,M,E);var z=d.palette_offset,V=d.transparent_index;V===null&&(V=256);var U=d.width,$=s-U,H=U,Y=(d.y*s+d.x)*4,b=((d.y+d.height)*s+d.x)*4,_=Y,X=$*4;d.interlaced===!0&&(X+=s*4*7);for(var Z=8,P=0,ee=M.length;P<ee;++P){var W=M[P];if(H===0&&(_+=X,H=U,_>=b&&(X=$*4+s*4*(Z-1),_=Y+(U+$)*(Z<<1),Z>>=1)),W===V)_+=4;else{var re=e[z+W*3],te=e[z+W*3+1],ae=e[z+W*3+2];k[_++]=re,k[_++]=te,k[_++]=ae,k[_++]=255}--H}}}function q(e,t,s,w){for(var r=e[t++],a=1<<r,i=a+1,o=i+1,n=r+1,l=(1<<n)-1,f=0,x=0,u=0,F=e[t++],g=new Int32Array(4096),h=null;;){for(;f<16&&F!==0;)x|=e[t++]<<f,f+=8,F===1?F=e[t++]:--F;if(f<n)break;var v=x&l;if(x>>=n,f-=n,v===a){o=i+1,n=r+1,l=(1<<n)-1,h=null;continue}else if(v===i)break;for(var m=v<o?v:h,y=0,p=m;p>a;)p=g[p]>>8,++y;var B=p,c=u+y+(m!==v?1:0);if(c>w){console.log("Warning, gif stream longer than expected.");return}s[u++]=B,u+=y;var O=u;for(m!==v&&(s[u++]=B),p=m;y--;)p=g[p],s[--O]=p&255,p>>=8;h!==null&&o<4096&&(g[o++]=h<<8|B,o>=l+1&&n<12&&(++n,l=l<<1|1)),h=v}return u!==w&&console.log("Warning, gif stream shorter than expected."),s}try{C.GifWriter=D,C.GifReader=N}catch{}},{}],2:[function(R,I,C){var D,G,N,q,e,t,s,w=function(r,a){return function(){return r.apply(a,arguments)}};G=R("omggif").GifReader,t=function(r){var a;return a=new XMLHttpRequest,a.open("GET",r,!0),a.responseType="arraybuffer",{xhr:a,get:function(i){return a.onload=s(i),a.send(),this},animate:function(i){var o;return o=e(i),a.onload=s(function(n){return n.animateInCanvas(o)}),a.send(),this},frames:function(i,o,n){var l;return n==null&&(n=!1),l=e(i),a.onload=s(function(f){return f.onDrawFrame=o,f.animateInCanvas(l,n)}),a.send(),this}}},s=function(r){return function(a){return r(new D(new G(new Uint8Array(this.response))))}},e=function(r){var a,i;if(typeof r=="string"&&((i=a=document.querySelector(r))!=null?i.tagName:void 0)==="CANVAS")return a;if((r!=null?r.tagName:void 0)==="CANVAS")return r;throw new Error("Unexpected selector type. Valid types are query-selector-string/canvas-element")},N=function(r,a,i){var o,n,l;return o=document.createElement("canvas"),n=o.getContext("2d"),o.width=r.width,o.height=r.height,l=n.createImageData(a,i),l.data.set(r.pixels),n.putImageData(l,-r.x,-r.y),o},q=function(r,a){var i;return(function(){i=[];for(var o=0,n=r.numFrames();0<=n?o<n:o>n;0<=n?o++:o--)i.push(o);return i}).apply(this).map(function(o){return function(n){var l;return l=r.frameInfo(n),l.pixels=new Uint8ClampedArray(r.width*r.height*4),r.decodeAndBlitFrameRGBA(n,l.pixels),l}}())},D=function(){function r(a){var i;this._reader=a,this._advanceFrame=w(this._advanceFrame,this),this._nextFrameRender=w(this._nextFrameRender,this),this._nextFrame=w(this._nextFrame,this),i=this._reader,this.width=i.width,this.height=i.height,this._frames=q(this._reader),this._loopCount=this._reader.loopCount(),this._loops=0,this._frameIndex=0,this._running=!1}return r.prototype.start=function(){return this._lastTime=new Date().valueOf(),this._delayCompensation=0,this._running=!0,setTimeout(this._nextFrame,0),this},r.prototype.stop=function(){return this._running=!1,this},r.prototype.reset=function(){return this._frameIndex=0,this._loops=0,this},r.prototype._nextFrame=function(){requestAnimationFrame(this._nextFrameRender)},r.prototype._nextFrameRender=function(){var a,i;if(this._running)return a=this._frames[this._frameIndex],(i=this.onFrame)!=null&&i.apply(this,[a,this._frameIndex]),this._enqueueNextFrame()},r.prototype._advanceFrame=function(){this._frameIndex+=1,this._frameIndex>=this._frames.length&&(this._loopCount!==0&&this._loopCount===this._loops?this.stop():(this._frameIndex=0,this._loops+=1))},r.prototype._enqueueNextFrame=function(){var a,i,o,n;for(this._advanceFrame();this._running;)if(o=this._frames[this._frameIndex],i=new Date().valueOf()-this._lastTime,this._lastTime+=i,this._delayCompensation+=i,n=o.delay*10,a=n-this._delayCompensation,this._delayCompensation-=n,a<0){this._advanceFrame();continue}else{setTimeout(this._nextFrame,a);break}},r.prototype.animateInCanvas=function(a,i){var o;return i==null&&(i=!0),i&&(a.width=this.width,a.height=this.height),o=a.getContext("2d"),this.onDrawFrame==null&&(this.onDrawFrame=function(n,l,f){return n.drawImage(l.buffer,l.x,l.y)}),this.onFrame==null&&(this.onFrame=function(n){return function(l,f){var x,u;switch(l.buffer==null&&(l.buffer=N(l,n.width,n.height)),typeof n.disposeFrame=="function"&&n.disposeFrame(),l.disposal){case 2:n.disposeFrame=function(){return o.clearRect(0,0,a.width,a.height)};break;case 3:u=o.getImageData(0,0,a.width,a.height),n.disposeFrame=function(){return o.putImageData(u,0,0)};break;default:n.disposeFrame=null}return(x=n.onDrawFrame)!=null?x.apply(n,[o,l,f]):void 0}}(this)),this.start(),this},r}(),t.Animator=D,t.decodeFrames=q,t.createBufferCanvas=N,typeof window<"u"&&window!==null&&(window.gifler=t),typeof I<"u"&&I!==null&&(I.exports=t)},{omggif:1}]},{},[2]);const he={setup(){const R=ie(null),I=oe(),C=()=>{if(!R.value.getContext("2d")){console.error("Canvas context is null.");return}gifler("https://legavin1023.github.io/DA-Escape-Room/image/splash/Master_final_once3.gif").get(G=>{G.animateInCanvas(R.value,{loop:!1})}),setTimeout(()=>{I.push({name:"main"})},4800)};return le(()=>{C()}),{renderGif:C,canvas:R}}},ve={ref:"canvas",width:"500",height:"500"};function ce(R,I,C,D,G,N){return se(),fe("div",null,[de("canvas",ve,null,512)])}const ue=ne(he,[["render",ce]]);export{ue as default};
