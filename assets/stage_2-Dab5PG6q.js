import{_ as no,b as a,u as to,d as co,c as u,a as o,n as x,t as io,e as g,F as uo,o as v}from"./index-Bw3MUHzo.js";import{o as b,a as k}from"./on-DVkZbVtQ.js";const vo={mounted(){this.$audio.play().catch(d=>{console.error("오디오 재생 오류:",d)})},setup(){const d=a(0),e=a([!1,!1,!1]),E=to(),l=a(!1),y=a(null),m=a(!1),n=k,q=k,F=k,V=k,z=b,j=b,G=b,H=b,T=a([n,q,F,V]),J=a(null),A=a(null),K=a(null),h=a(null),D=a(null),P=a(null),R=a(null),I=a(null),L=a("편안해보이는 침대다. 오랜만, 이던가?"),S=a(""),f=a("");let M=null;const r=a(!1);co(()=>{N(L.value,!1)});const Q=()=>{r.value=!0;let s=0;M=setInterval(()=>{s<S.value.length?(f.value+=S.value[s],s++):(clearInterval(M),r.value=!1)},100)},N=(s,t=!1)=>{r.value&&(clearInterval(M),f.value="",r.value=!1);const _=document.querySelector(".narration_text");_&&_.classList.remove("visible"),f.value="",S.value=s,t?(f.value=s,r.value=!1):Q(),setTimeout(()=>{_&&_.classList.add("visible")},1)},c=s=>{s.value&&(s.value.pause(),s.value.currentTime=0,s.value.play(),s.value.onended=()=>{s.value.pause(),s.value.currentTime=0})},O=a(!1),w=(s,t,_)=>{const B=document.querySelector(s);B&&(B.classList.add(t),setTimeout(()=>{B.classList.remove(t)},_))},U=()=>{c(I),w(".candle","candle_hidden",600),O.value=!O.value},W=()=>{c(h)},X=()=>{c(R)},Y=()=>{c(h),w(".crwow","crwow_move",600)},Z=()=>{T.value.every(t=>t===b)&&(l.value=!0)},i=a(!1),C=a(!1),$=a(!1),oo=a(!1),lo=s=>{y.value=s,s===1?(c(A),d.value++,p(0),i.value?document.querySelector(".modal_box_1").classList.add("done"):i.value=!0):s===2||(s===3?(c(D),d.value++,p(2),i.value?document.querySelector(".modal_box_3").classList.add("done"):i.value=!0):s===4&&(c(I),d.value++,p(3),i.value?document.querySelector(".modal_box_4").classList.add("done"):i.value=!0))},eo=()=>{y.value=null,m.value=!1},so=s=>{s===2&&!m.value&&(m.value=!0,d.value++,p(1),C.value?document.querySelector(".modal_box_2").classList.add("done"):C.value=!0)},ao=()=>{m.value=!1},p=s=>{const t=[z,j,G,H];T.value[s]=t[s],Z()};return{count:d,buttonsClicked:e,openModal:lo,closeModal:eo,openNestedModal:so,closeNestedModal2:ao,showBtn:l,goNext:()=>{E.push("/stage_3")},collectImages:T,changeImage:p,activeModal:y,activeNestedModal2:m,handleAnimation:w,click_candle_btn:U,click_map_btn:W,click_logo_btn:X,click_crwow_btn:Y,playSound:c,nextSound:J,bed1Sound:A,bed2Sound:K,crowSound:h,necklaceSound:D,mapSound:P,logoSound:R,candleSound:I,defaultText:L,displayedText:f,displayText:N,isTyping:r,modalOpenedOnce1:i,modalOpenedOnce2:C,modalOpenedOnce3:$,modalOpenedOnce4:oo}}},mo={class:"page map2"},ro={class:"narration"},_o={class:"narration-border"},go={class:"collect"},fo=["src"],po=["src"],xo=["src"],bo=["src"],yo={class:"effect"},ko={class:"modal_box_1"},To={key:0,class:"modal"},ho={class:"modal-content modal_1_1"},Io={key:0,class:"modal"},So={class:"modal-content modal_1_2_1"},Mo={class:"modal_box_2"},wo={key:0,class:"modal"},Co={class:"modal-content modal_1_2_2"},Bo={class:"modal_box_3"},Eo={key:0,class:"modal"},Ao={class:"modal-content modal_1_1"},Do={class:"modal_box_4"},Ro={key:0,class:"modal"},Lo={class:"modal-content modal_1_1"},No={ref:"nextSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/페이지넘김.wav"},Oo={ref:"crowSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_2/까마귀소리.mp3"},qo={ref:"necklaceSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_2/목걸이.wav"},Fo={ref:"mapSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_2/부스럭소리.mp3"},Vo={ref:"bed1Sound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_2/시트소리.wav"},zo={ref:"logoSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_2/용브레쓰.mp3"},jo={ref:"candleSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_2/초켜는소리.wav"},Go={ref:"bed2Sound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_2/침대삐걱.wav"};function Ho(d,e,E,l,y,m){return v(),u(uo,null,[o("div",mo,[o("button",{class:"page-2-1",onClick:e[0]||(e[0]=n=>(l.openModal(1),l.displayText("두 사람이 누울 수 있는 침대. 잘 정리되어 있다.마치 아무 일도 없었던 것처럼.")))}),o("button",{class:"page-2-2",onClick:e[1]||(e[1]=n=>(l.openModal(2),l.displayText("침대 아래는 잘 관리되어 의외로 깨끗하다.")))}),o("button",{class:"page-2-3",onClick:e[2]||(e[2]=n=>(l.openModal(3),l.displayText("독특한 문양이 그려진 목걸이가 걸려 있다.누군가 늘 지니고 다녔던 듯 조금 흠집이 나 있다.")))}),o("button",{class:"page-2-4 candle",onClick:e[3]||(e[3]=n=>(l.openModal(4),l.displayText("거의 다 닳아 있는 초.금방 꺼질 것만 같다.")))}),o("div",ro,[o("div",_o,[o("p",{class:x(["narration-text",{visible:l.displayedText}])},io(l.displayedText||l.defaultText),3)])]),o("div",go,[o("img",{class:"collect-1",src:l.collectImages[0],alt:"Image 1"},null,8,fo),o("img",{class:"collect-2",src:l.collectImages[1],alt:"Image 2"},null,8,po),o("img",{class:"collect-3",src:l.collectImages[2],alt:"Image 3"},null,8,xo),o("img",{class:"collect-4",src:l.collectImages[3],alt:"Image 4"},null,8,bo)]),l.showBtn?(v(),u("button",{key:0,class:x(["collect-nextBtn",{disabled:l.activeModal!==null}]),onClick:e[4]||(e[4]=(...n)=>l.goNext&&l.goNext(...n))},null,2)):g("",!0),o("div",yo,[o("div",{class:x(["logo_btn",{disabled:l.isTyping}]),onClick:e[5]||(e[5]=n=>(l.displayText("얼룩... 그을린 건가? 용 같은 모양이네."),l.click_logo_btn()))},null,2),o("div",{class:x(["crow_btn",{disabled:l.isTyping}]),onClick:e[6]||(e[6]=n=>(l.displayText("까마귀. 누군가는 이 동물을 친구라고 칭했던 것 같은데."),d.click_crow_btn()))},null,2),o("div",{class:x(["map_box",{disabled:l.isTyping}]),onClick:e[7]||(e[7]=n=>(l.displayText("내일은... 어디로 가기로 했더라...? 그전에 우리가 어디서 왔었지?"),l.click_map_btn()))},null,2)])]),o("div",ko,[l.activeModal===1?(v(),u("div",To,[o("div",ho,[o("span",{class:"close",onClick:e[8]||(e[8]=n=>{l.closeModal(),l.displayText("편안해보이는 침대다. 오랜만, 이던가?")})},"×"),e[14]||(e[14]=o("p",{class:"modal-content-get"},[o("span",null,"체크")],-1))])])):g("",!0)]),l.activeModal===2?(v(),u("div",Io,[o("div",So,[o("button",{onClick:e[9]||(e[9]=n=>(l.openNestedModal(2),l.displayText("잘 보관된 인형이다.왠지 섬뜩하다.")))}),o("span",{class:"close",onClick:e[10]||(e[10]=n=>{l.closeModal(),l.displayText("편안해보이는 침대다. 오랜만, 이던가?")})},"×")])])):g("",!0),o("div",Mo,[l.activeNestedModal2?(v(),u("div",wo,[o("div",Co,[o("span",{class:"close",onClick:e[11]||(e[11]=n=>{l.closeNestedModal2(),l.displayText("침대 아래는 잘 관리되어 의외로 깨끗하다.")})},"×"),e[15]||(e[15]=o("p",{class:"modal-content-get"},[o("span",null,"체크")],-1))])])):g("",!0)]),o("div",Bo,[l.activeModal===3?(v(),u("div",Eo,[o("div",Ao,[o("span",{class:"close",onClick:e[12]||(e[12]=n=>{l.closeModal(),l.displayText("편안해보이는 침대다. 오랜만, 이던가?")})},"×"),e[16]||(e[16]=o("p",{class:"modal-content-get"},[o("span",null,"체크")],-1))])])):g("",!0)]),o("div",Do,[l.activeModal===4?(v(),u("div",Ro,[o("div",Lo,[o("span",{class:"close",onClick:e[13]||(e[13]=n=>{l.closeModal(),l.displayText("편안해보이는 침대다. 오랜만, 이던가?")})},"×"),e[17]||(e[17]=o("p",{class:"modal-content-get"},[o("span",null,"체크")],-1))])])):g("",!0)]),o("audio",No,null,512),o("audio",Oo,null,512),o("audio",qo,null,512),o("audio",Fo,null,512),o("audio",Vo,null,512),o("audio",zo,null,512),o("audio",jo,null,512),o("audio",Go,null,512)],64)}const Qo=no(vo,[["render",Ho]]);export{Qo as default};
