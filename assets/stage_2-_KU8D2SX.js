import{_ as ao,r as a,u as no,o as to,a as i,c as u,b as o,j as _,n as f,t as co,F as io}from"./index-D7dlVpLz.js";import{o as x,a as k}from"./on-ChQdpt1V.js";const uo={mounted(){this.$audio.play().catch(c=>{console.error("오디오 재생 오류:",c)})},setup(){const c=a(0),e=a([!1,!1,!1]),E=no(),l=a(!1),b=a(null),m=a(!1),n=k,z=k,G=k,H=k,J=x,K=x,P=x,Q=x,T=a([n,z,G,H]),U=a(null),A=a(null),D=a(null),R=a(null),O=a(null),L=a(null),N=a(null),q=a(null),F=a(null),V=a("편안해보이는 침대다. 오랜만, 이던가?"),h=a(""),g=a("");let S=null;const v=a(!1);to(()=>{j(V.value,!1)});const W=()=>{v.value=!0;let s=0;S=setInterval(()=>{s<h.value.length?(g.value+=h.value[s],s++):(clearInterval(S),v.value=!1)},100)},j=(s,t=!1)=>{v.value&&(clearInterval(S),g.value="",v.value=!1);const r=document.querySelector(".narration_text");r&&r.classList.remove("visible"),g.value="",h.value=s,t?(g.value=s,v.value=!1):W(),setTimeout(()=>{r&&r.classList.add("visible")},1)},d=s=>{s.value&&(s.value.pause(),s.value.currentTime=0,s.value.play(),s.value.onended=()=>{s.value.pause(),s.value.currentTime=0})},y=(s,t,r)=>{const B=document.querySelector(s);B&&setTimeout(()=>{B.classList.add(t),setTimeout(()=>{B.classList.remove(t)},r)},10)},X=()=>{d(N),y(".map_btn","map_flap",1500)},Y=()=>{d(q),y(".logo_btn","logo_hidden",600)},Z=()=>{d(O),y(".crow_btn","crwow_move",1500)},$=()=>{T.value.every(t=>t===x)&&(l.value=!0)},I=a(!1),M=a(!1),w=a(!1),C=a(!1),oo=s=>{b.value=s,s===1?(d(A),c.value++,p(0),I.value?document.querySelector(".modal_box_1").classList.add("done"):I.value=!0):s===2?d(D):s===3?(d(L),c.value++,p(2),w.value?document.querySelector(".modal_box_3").classList.add("done"):w.value=!0):s===4&&(d(F),c.value++,p(3),C.value?document.querySelector(".modal_box_4").classList.add("done"):C.value=!0)},lo=()=>{b.value=null,m.value=!1},eo=s=>{s===2&&!m.value&&(m.value=!0,c.value++,p(1),d(R),M.value?document.querySelector(".modal_box_2").classList.add("done"):M.value=!0)},so=()=>{m.value=!1},p=s=>{const t=[J,K,P,Q];T.value[s]=t[s],$()};return{count:c,buttonsClicked:e,openModal:oo,closeModal:lo,openNestedModal:eo,closeNestedModal2:so,showBtn:l,goNext:()=>{E.push("stage_3")},collectImages:T,changeImage:p,activeModal:b,activeNestedModal2:m,handleAnimation:y,click_map_btn:X,click_logo_btn:Y,click_crow_btn:Z,playSound:d,nextSound:U,bed1Sound:A,bed2_1_Sound:D,crowSound:O,necklaceSound:L,mapSound:N,logoSound:q,candleSound:F,defaultText:V,displayedText:g,displayText:j,isTyping:v,modalOpenedOnce1:I,modalOpenedOnce2:M,modalOpenedOnce3:w,modalOpenedOnce4:C,bed2_2_Sound:R}}},mo={class:"page map2"},vo={class:"modal_box_1"},ro={key:0,class:"modal"},_o={class:"modal-content modal_2_1"},go={key:0,class:"modal"},po={class:"modal-content modal_2_2_1"},fo={class:"modal_box_2"},xo={key:0,class:"modal"},bo={class:"modal-content modal_2_2_2"},yo={class:"modal_box_3"},ko={key:0,class:"modal"},To={class:"modal-content modal_2_3"},ho={class:"modal_box_4"},So={key:0,class:"modal"},Io={class:"modal-content modal_2_4"},Mo={class:"narration"},wo={class:"narration-border"},Co={class:"collect"},Bo=["src"],Eo=["src"],Ao=["src"],Do=["src"],Ro={class:"effect"},Oo={ref:"nextSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/페이지넘김.wav"},Lo={ref:"crowSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_2/까마귀소리.mp3"},No={ref:"necklaceSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_2/목걸이.wav"},qo={ref:"mapSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_2/부스럭소리.mp3"},Fo={ref:"bed1Sound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_2/시트소리.wav"},Vo={ref:"logoSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_2/daOrigin.mp3"},jo={ref:"candleSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_2/초켜는소리.wav"},zo={ref:"bed2_1_Sound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_2/침대삐걱.wav"},Go={ref:"bed2_2_Sound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_2/놀라는남자소리.wav"};function Ho(c,e,E,l,b,m){return i(),u(io,null,[o("div",mo,[o("div",vo,[l.activeModal===1?(i(),u("div",ro,[o("div",_o,[o("span",{class:"close",onClick:e[0]||(e[0]=n=>{l.closeModal(),l.displayText("편안해보이는 침대다. 오랜만, 이던가?")})},"×"),e[14]||(e[14]=o("p",{class:"modal-content-get"},[o("span",null,"체크")],-1))])])):_("",!0)]),l.activeModal===2?(i(),u("div",go,[o("div",po,[o("button",{onClick:e[1]||(e[1]=n=>(l.openNestedModal(2),l.displayText("잘 보관된 인형이다. 왠지 섬뜩하다.")))}),o("span",{class:"close",onClick:e[2]||(e[2]=n=>{l.closeModal(),l.displayText("편안해보이는 침대다. 오랜만, 이던가?")})},"×")])])):_("",!0),o("div",fo,[l.activeNestedModal2?(i(),u("div",xo,[o("div",bo,[o("span",{class:"close",onClick:e[3]||(e[3]=n=>{l.closeNestedModal2(),l.displayText("침대 아래는 잘 관리되어 의외로 깨끗하다.")})},"×"),e[15]||(e[15]=o("p",{class:"modal-content-get"},[o("span",null,"체크")],-1))])])):_("",!0)]),o("div",yo,[l.activeModal===3?(i(),u("div",ko,[o("div",To,[o("span",{class:"close",onClick:e[4]||(e[4]=n=>{l.closeModal(),l.displayText("편안해보이는 침대다. 오랜만, 이던가?")})},"×"),e[16]||(e[16]=o("p",{class:"modal-content-get"},[o("span",null,"체크")],-1))])])):_("",!0)]),o("div",ho,[l.activeModal===4?(i(),u("div",So,[o("div",Io,[o("span",{class:"close",onClick:e[5]||(e[5]=n=>{l.closeModal(),l.displayText("편안해보이는 침대다. 오랜만, 이던가?")})},"×"),e[17]||(e[17]=o("p",{class:"modal-content-get"},[o("span",null,"체크")],-1))])])):_("",!0)]),o("button",{class:"page-2-1",onClick:e[6]||(e[6]=n=>(l.openModal(1),l.displayText("두 사람이 누울 수 있는 침대. 잘 정리되어 있다. 마치 아무 일도 없었던 것처럼.")))}),o("button",{class:"page-2-2",onClick:e[7]||(e[7]=n=>(l.openModal(2),l.displayText("침대 아래는 잘 관리되어 의외로 깨끗하다.")))}),o("button",{class:"page-2-3",onClick:e[8]||(e[8]=n=>(l.openModal(3),l.displayText("독특한 문양이 그려진 목걸이가 걸려 있다. 누군가 늘 지니고 다녔던 듯 조금 흠집이 나 있다.")))}),o("button",{class:"page-2-4 candle",onClick:e[9]||(e[9]=n=>(l.openModal(4),l.displayText("거의 다 닳아 있는 초. 금방 꺼질 것만 같다.")))}),o("div",Mo,[o("div",wo,[o("p",{class:f(["narration-text",{visible:l.displayedText}])},co(l.displayedText||l.defaultText),3)])]),o("div",Co,[o("img",{class:"collect-1",src:l.collectImages[0],alt:"Image 1"},null,8,Bo),o("img",{class:"collect-2",src:l.collectImages[1],alt:"Image 2"},null,8,Eo),o("img",{class:"collect-3",src:l.collectImages[2],alt:"Image 3"},null,8,Ao),o("img",{class:"collect-4",src:l.collectImages[3],alt:"Image 4"},null,8,Do)]),l.showBtn?(i(),u("button",{key:1,class:f(["collect-nextBtn",{disabled:l.activeModal!==null}]),onClick:e[10]||(e[10]=(...n)=>l.goNext&&l.goNext(...n))},null,2)):_("",!0),o("div",Ro,[o("div",{class:f(["logo_btn",{disabled:l.isTyping}]),onClick:e[11]||(e[11]=n=>(l.displayText("얼룩... 그을린 건가? 용 같은 모양이네."),l.click_logo_btn()))},null,2),o("div",{class:f(["crow_btn",{disabled:l.isTyping}]),onClick:e[12]||(e[12]=n=>(l.displayText("까마귀. 누군가는 이 동물을 친구라고 칭했던 것 같은데."),l.click_crow_btn()))},null,2),o("div",{class:f(["map_btn",{disabled:l.isTyping}]),onClick:e[13]||(e[13]=n=>(l.displayText("내일은... 어디로 가기로 했더라...? 그전에 우리가 어디서 왔었지?"),l.click_map_btn()))},null,2)])]),o("audio",Oo,null,512),o("audio",Lo,null,512),o("audio",No,null,512),o("audio",qo,null,512),o("audio",Fo,null,512),o("audio",Vo,null,512),o("audio",jo,null,512),o("audio",zo,null,512),o("audio",Go,null,512)],64)}const Qo=ao(uo,[["render",Ho]]);export{Qo as default};
