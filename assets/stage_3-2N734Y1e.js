import{_ as W,b as a,u as X,d as Y,c,a as e,n as A,t as Z,e as m,F as $,o as i}from"./index-Bfounw5R.js";import{o as x,a as I}from"./on-DVkZbVtQ.js";const ee={mounted(){this.$audio.play().catch(d=>{console.error("오디오 재생 오류:",d)})},setup(){const d=a(0),l=a([!1,!1,!1]),S=X(),o=a(!1),g=a(null),u=a(!1),t=a(!1),O=I,L=I,q=I,F=x,V=x,z=x,y=a([O,L,q]),j=a(null),C=a(null),w=a(null),N=a(null),B=a(null),E=a(null),D=a("창문에서 찬 바람이 조금 새어 들어온다."),M=a(""),_=a("");let b=null;const v=a(!1);Y(()=>{R(D.value,!1)});const G=()=>{v.value=!0;let s=0;b=setInterval(()=>{s<M.value.length?(_.value+=M.value[s],s++):(clearInterval(b),v.value=!1)},100)},R=(s,n=!1)=>{v.value&&(clearInterval(b),_.value="",v.value=!1);const p=document.querySelector(".narration_text");p&&p.classList.remove("visible"),_.value="",M.value=s,n?(_.value=s,v.value=!1):G(),setTimeout(()=>{p&&p.classList.add("visible")},1)},r=s=>{s.value&&(s.value.pause(),s.value.currentTime=0,s.value.play(),s.value.onended=()=>{s.value.pause(),s.value.currentTime=0})},H=()=>{y.value.every(n=>n===x)&&(o.value=!0)},h=a(!1),T=a(!1),k=a(!1),J=s=>{g.value=s,s===1?(r(N),d.value++,f(0),h.value?document.querySelector(".modal_box_1").classList.add("done"):h.value=!0):s===2?r(E):s===3&&r(B)},K=()=>{g.value=null,u.value=!1,t.value=!1},P=s=>{s===2&&!u.value?(r(C),u.value=!0,d.value++,f(1),T.value?document.querySelector(".modal_box_2").classList.add("done"):T.value=!0):s===3&&!t.value&&(r(w),t.value=!0,d.value++,f(2),k.value?document.querySelector(".modal_box_3").classList.add("done"):k.value=!0)},Q=()=>{u.value=!1},U=()=>{t.value=!1},f=s=>{const n=[F,V,z];y.value[s]=n[s],H()};return{count:d,buttonsClicked:l,openModal:J,closeModal:K,openNestedModal:P,closeNestedModal2:Q,closeNestedModal3:U,showBtn:o,goNext:()=>{S.push("stage_4")},collectImages:y,changeImage:f,activeModal:g,activeNestedModal2:u,activeNestedModal3:t,playSound:r,nextSound:j,loveSound:C,mirrorSound:w,windowSound:N,breathSound:B,sighSound:E,defaultText:D,displayedText:_,displayText:R,isTyping:v,modalOpenedOnce1:h,modalOpenedOnce2:T,modalOpenedOnce3:k}}},oe={class:"page map3"},le={class:"narration"},se={class:"narration-border"},ae={class:"collect"},te=["src"],ne=["src"],de=["src"],ce={class:"modal_box_1"},ie={key:0,class:"modal"},ue={class:"modal-content modal_3_1"},ve={key:0,class:"modal"},re={class:"modal-content modal_3_2_1"},me={class:"modal_box_2"},_e={key:0,class:"modal"},ge={class:"modal-content modal_3_2_2"},fe={key:1,class:"modal"},pe={class:"modal-content modal_3_3_1"},xe={class:"modal_box_3"},ye={key:0,class:"modal"},Me={class:"modal-content modal_3_3_2"},be={ref:"nextSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/페이지넘김.wav"},he={ref:"loveSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_3/사랑.wav"},Te={ref:"mirrorSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_3/손거울.wav"},ke={ref:"windowSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_3/창문삐걱.wav"},Ie={ref:"breathSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_3/남성한숨.mp3"},Se={ref:"sighSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_3/여자한숨.mp3"};function Ce(d,l,S,o,g,u){return i(),c($,null,[e("div",oe,[e("button",{class:"page-3-1",onClick:l[0]||(l[0]=t=>(o.openModal(1),o.displayText("오래된 야영지가 보인다. 왠지 그리운 느낌이 든다.")))}),e("button",{class:"page-3-2",onClick:l[1]||(l[1]=t=>(o.openModal(2),o.displayText("“난 나와 네 선택을 믿어”")))}),e("button",{class:"page-3-3",onClick:l[2]||(l[2]=t=>(o.openModal(3),o.displayText("그림자는 말이 없다. 아니, 말이 없는 건 나인가?")))}),e("div",le,[e("div",se,[e("p",{class:A(["narration-text",{visible:o.displayedText}])},Z(o.displayedText||o.defaultText),3)])]),e("div",ae,[e("img",{class:"collect-1",src:o.collectImages[0],alt:"Image 1"},null,8,te),e("img",{class:"collect-2",src:o.collectImages[1],alt:"Image 2"},null,8,ne),e("img",{class:"collect-3",src:o.collectImages[2],alt:"Image 3"},null,8,de)]),o.showBtn?(i(),c("button",{key:0,class:A(["collect-nextBtn",{disabled:o.activeModal!==null}]),onClick:l[3]||(l[3]=(...t)=>o.goNext&&o.goNext(...t))},null,2)):m("",!0),l[11]||(l[11]=e("div",{class:"effect"},[e("div",{class:"bonfire"})],-1))]),e("div",ce,[o.activeModal===1?(i(),c("div",ie,[e("div",ue,[e("span",{class:"close",onClick:l[4]||(l[4]=t=>{o.closeModal(),o.displayText("창문에서 찬 바람이 조금 새어 들어온다.")})},"×"),l[12]||(l[12]=e("p",{class:"modal-content-get"},[e("span",null,"체크")],-1))])])):m("",!0)]),o.activeModal===2?(i(),c("div",ve,[e("div",re,[e("button",{onClick:l[5]||(l[5]=t=>(o.openNestedModal(2),o.displayText("장미가 덩그러니 놓여있다. 소중히 보관한 듯 잘 말라 있다.")))}),e("span",{class:"close",onClick:l[6]||(l[6]=t=>{o.closeModal(),o.displayText("창문에서 찬 바람이 조금 새어 들어온다.")})},"×")])])):m("",!0),e("div",me,[o.activeNestedModal2?(i(),c("div",_e,[e("div",ge,[e("span",{class:"close",onClick:l[7]||(l[7]=t=>{o.closeNestedModal2(),o.displayText("창문에서 찬 바람이 조금 새어 들어온다.")})},"×"),l[13]||(l[13]=e("p",{class:"modal-content-get"},[e("span",null,"체크")],-1))])])):m("",!0)]),o.activeModal===3?(i(),c("div",fe,[e("div",pe,[e("button",{onClick:l[8]||(l[8]=t=>(o.openNestedModal(3),o.displayText("방을 비추는 거울이다. 내 모습을… 비추고 싶지 않다.")))}),e("span",{class:"close",onClick:l[9]||(l[9]=t=>{o.closeModal(),o.displayText("창문에서 찬 바람이 조금 새어 들어온다.")})},"×")])])):m("",!0),e("div",xe,[o.activeNestedModal3?(i(),c("div",ye,[e("div",Me,[e("span",{class:"close",onClick:l[10]||(l[10]=t=>{o.closeNestedModal3(),o.displayText("그림자는 말이 없다. 아니, 말이 없는 건 나인가?")})},"×"),l[14]||(l[14]=e("p",{class:"modal-content-get"},[e("span",null,"체크")],-1))])])):m("",!0)]),e("audio",be,null,512),e("audio",he,null,512),e("audio",Te,null,512),e("audio",ke,null,512),e("audio",Ie,null,512),e("audio",Se,null,512)],64)}const Ee=W(ee,[["render",Ce]]);export{Ee as default};
