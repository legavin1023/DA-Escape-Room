import{_ as W,b as a,u as X,d as Y,c,a as o,n as A,t as Z,e as m,F as $,o as i}from"./index-DKFaGC-W.js";import{o as x,a as I}from"./on-DVkZbVtQ.js";const ee={mounted(){this.$audio.play().catch(d=>{console.error("오디오 재생 오류:",d)})},setup(){const d=a(0),l=a([!1,!1,!1]),S=X(),e=a(!1),g=a(null),u=a(!1),t=a(!1),O=I,L=I,q=I,F=x,V=x,z=x,y=a([O,L,q]),j=a(null),C=a(null),N=a(null),w=a(null),B=a(null),E=a(null),D=a("창문에서 찬 바람이 조금 새어 들어온다."),h=a(""),_=a("");let M=null;const v=a(!1);Y(()=>{R(D.value,!1)});const G=()=>{v.value=!0;let s=0;M=setInterval(()=>{s<h.value.length?(_.value+=h.value[s],s++):(clearInterval(M),v.value=!1)},100)},R=(s,n=!1)=>{v.value&&(clearInterval(M),_.value="",v.value=!1);const p=document.querySelector(".narration_text");p&&p.classList.remove("visible"),_.value="",h.value=s,n?(_.value=s,v.value=!1):G(),setTimeout(()=>{p&&p.classList.add("visible")},1)},r=s=>{s.value&&(s.value.pause(),s.value.currentTime=0,s.value.play(),s.value.onended=()=>{s.value.pause(),s.value.currentTime=0})},H=()=>{y.value.every(n=>n===x)&&(e.value=!0)},b=a(!1),T=a(!1),k=a(!1),J=s=>{g.value=s,s===1?(r(w),d.value++,f(0),b.value?document.querySelector(".modal_box_1").classList.add("done"):b.value=!0):s===2?r(E):s===3&&r(B)},K=()=>{g.value=null,u.value=!1,t.value=!1},P=s=>{s===2&&!u.value?(r(C),u.value=!0,d.value++,f(1),T.value?document.querySelector(".modal_box_2").classList.add("done"):T.value=!0):s===3&&!t.value&&(r(N),t.value=!0,d.value++,f(2),k.value?document.querySelector(".modal_box_3").classList.add("done"):k.value=!0)},Q=()=>{u.value=!1},U=()=>{t.value=!1},f=s=>{const n=[F,V,z];y.value[s]=n[s],H()};return{count:d,buttonsClicked:l,openModal:J,closeModal:K,openNestedModal:P,closeNestedModal2:Q,closeNestedModal3:U,showBtn:e,goNext:()=>{S.push("/stage_4")},collectImages:y,changeImage:f,activeModal:g,activeNestedModal2:u,activeNestedModal3:t,playSound:r,nextSound:j,loveSound:C,mirrorSound:N,windowSound:w,breathSound:B,sighSound:E,defaultText:D,displayedText:_,displayText:R,isTyping:v,modalOpenedOnce1:b,modalOpenedOnce2:T,modalOpenedOnce3:k}}},oe={class:"page map3"},le={class:"narration"},se={class:"narration-border"},ae={class:"collect"},te=["src"],ne=["src"],de=["src"],ce={class:"modal_box_1"},ie={key:0,class:"modal"},ue={class:"modal-content modal_1_1"},ve={key:0,class:"modal"},re={class:"modal-content modal_1_2_1"},me={class:"modal_box_2"},_e={key:0,class:"modal"},ge={class:"modal-content modal_1_2_2"},fe={key:1,class:"modal"},pe={class:"modal-content modal_1_3_1"},xe={class:"modal_box_3"},ye={key:0,class:"modal"},he={class:"modal-content modal_1_3_2"},Me={ref:"nextSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/페이지넘김.wav"},be={ref:"loveSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_1/사랑.mp3"},Te={ref:"mirrorSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_3/손거울.mp3"},ke={ref:"windowSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_3/창문삐걱.mp3"},Ie={ref:"breathSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_3/숨들이마시는소리.mp3"},Se={ref:"sighSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_3/여성한숨.wav"};function Ce(d,l,S,e,g,u){return i(),c($,null,[o("div",oe,[o("button",{class:"page-3-1",onClick:l[0]||(l[0]=t=>(e.openModal(1),e.displayText("평화로운 때가 되면 사람들은 죽일 동물을 찾아 헤맨다. 그 시기에 사냥당한 사슴의 머리는… 왠지 기묘하다.")))}),o("button",{class:"page-3-2",onClick:l[1]||(l[1]=t=>(e.openModal(2),e.displayText("모닥불에서 열기가 전해진다.")))}),o("button",{class:"page-3-3",onClick:l[2]||(l[2]=t=>(e.openModal(3),e.displayText("차곡차곡 정리된 템플러 갑옷이다.")))}),o("div",le,[o("div",se,[o("p",{class:A(["narration-text",{visible:e.displayedText}])},Z(e.displayedText||e.defaultText),3)])]),o("div",ae,[o("img",{class:"collect-1",src:e.collectImages[0],alt:"Image 1"},null,8,te),o("img",{class:"collect-2",src:e.collectImages[1],alt:"Image 2"},null,8,ne),o("img",{class:"collect-3",src:e.collectImages[2],alt:"Image 3"},null,8,de)]),e.showBtn?(i(),c("button",{key:0,class:A(["collect-nextBtn",{disabled:e.activeModal!==null}]),onClick:l[3]||(l[3]=(...t)=>e.goNext&&e.goNext(...t))},null,2)):m("",!0)]),o("div",ce,[e.activeModal===1?(i(),c("div",ie,[o("div",ue,[o("span",{class:"close",onClick:l[4]||(l[4]=t=>{e.closeModal(),e.displayText("창문에서 찬 바람이 조금 새어 들어온다.")})},"×"),l[11]||(l[11]=o("p",{class:"modal-content-get"},[o("span",null,"체크")],-1))])])):m("",!0)]),e.activeModal===2?(i(),c("div",ve,[o("div",re,[o("button",{onClick:l[5]||(l[5]=t=>(e.openNestedModal(2),e.displayText("대재앙, 다크스폰… 누군가 쓴 일지 같다. 수차례 연구해 빼곡하게 적었던 것 같은데, 대부분 타버려 알아볼 수 없다. 열심히 써놓고 왜 태워버린걸까. 더이상 쓸모가 없어서? 아니면 누군가에게 들키지 않기 위해?")))}),o("span",{class:"close",onClick:l[6]||(l[6]=t=>{e.closeModal(),e.displayText("창문에서 찬 바람이 조금 새어 들어온다.")})},"×")])])):m("",!0),o("div",me,[e.activeNestedModal2?(i(),c("div",_e,[o("div",ge,[o("span",{class:"close",onClick:l[7]||(l[7]=t=>{e.closeNestedModal2(),e.displayText("모닥불에서 열기가 전해진다.")})},"×"),l[12]||(l[12]=o("p",{class:"modal-content-get"},[o("span",null,"체크")],-1))])])):m("",!0)]),e.activeModal===3?(i(),c("div",fe,[o("div",pe,[o("button",{onClick:l[8]||(l[8]=t=>(e.openNestedModal(3),e.displayText("그리고 이건… 무언가 수놓아진 손수건이다. 회색감시자의 상징인가? 훼손되서 알아보기 어렵다.")))}),o("span",{class:"close",onClick:l[9]||(l[9]=t=>{e.closeModal(),e.displayText("창문에서 찬 바람이 조금 새어 들어온다.")})},"×")])])):m("",!0),o("div",xe,[e.activeNestedModal3?(i(),c("div",ye,[o("div",he,[o("span",{class:"close",onClick:l[10]||(l[10]=t=>{e.closeNestedModal3(),e.displayText("차곡차곡 정리된 템플러 갑옷이다.")})},"×"),l[13]||(l[13]=o("p",{class:"modal-content-get"},[o("span",null,"체크")],-1))])])):m("",!0)]),o("audio",Me,null,512),o("audio",be,null,512),o("audio",Te,null,512),o("audio",ke,null,512),o("audio",Ie,null,512),o("audio",Se,null,512)],64)}const Ee=W(ee,[["render",Ce]]);export{Ee as default};
