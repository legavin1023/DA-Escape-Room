import{_ as g,u as I,b as n,d as B,c as p,a as l,w as h,v as k,e as S,n as C,t as N,o as x}from"./index-BqF8Ftm5.js";const w={setup(){const o=I(),a=n(!1),d=n(""),e=n(!1),v="여기서 나가야 해. 그게 맞겠지.",f="아니, 아니야…",t=n(v),m=n(""),i=n(!1);let r=null;const y=()=>{a.value=!0,u("내 이름은...",!1)},_=()=>{d.value==="알리스터"?(e.value=!1,t.value="그래, 이제 다 끝났어.",setTimeout(()=>{o.push("/ending")},1e3)):(e.value=!0,u(f,!1))};B(()=>{u(v,!1)});const T=()=>{i.value=!0;let s=0;r=setInterval(()=>{s<m.value.length?(t.value+=m.value[s],s++):(clearInterval(r),i.value=!1)},100)},u=(s,b=!1)=>{r&&clearInterval(r),i.value&&(clearInterval(r),t.value="",i.value=!1);const c=document.querySelector(".narration-text");c&&c.classList.remove("visible"),t.value="",m.value=s,b?(t.value=s,i.value=!1):T(),setTimeout(()=>{c&&c.classList.add("visible")},1)};return{nameBtn:y,typingName:a,nameInput:d,textSubmit:_,showError:e,displayedText:t,errorMessage:f,displayText:u}},mounted(){this.$audio.play().catch(o=>{console.error("오디오 재생 오류:",o)})}},E={class:"page map4"},M={key:0,class:"nameBox"},V={class:"narration"},D={class:"narration-border"};function L(o,a,d,e,v,f){return x(),p("div",E,[l("button",{onClick:a[0]||(a[0]=(...t)=>e.nameBtn&&e.nameBtn(...t))},"문"),e.typingName?(x(),p("div",M,[h(l("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=t=>e.nameInput=t)},null,512),[[k,e.nameInput]]),l("button",{onClick:a[2]||(a[2]=(...t)=>e.textSubmit&&e.textSubmit(...t))},"제출")])):S("",!0),l("div",V,[l("div",D,[l("p",{class:C(["narration-text",{visible:e.displayedText}])},N(e.displayedText||o.defaultText),3)])])])}const z=g(w,[["render",L],["__scopeId","data-v-dcb1c264"]]);export{z as default};
