import{_ as B,r as n,u as k,o as E,b,c as y,d as a,w as D,v as N,e as w,g as A,n as C,t as R,F as V}from"./index-CBEJNchA.js";const M={setup(){const i=n(null),t=n(null),p=n(null),s=k(),m=n(!1),u=n(""),l=n(!1),_="여기서 나가야 해. 그게 맞겠지.",g="아니, 아니야…",o=n(_),f=n(""),r=n(!1);let d=null;const x=e=>{e.value&&(e.value.pause(),e.value.currentTime=0,e.value.play(),e.value.onended=()=>{e.value.pause(),e.value.currentTime=0})},T=()=>{m.value=!0,c("내 이름은...",!1)},h=()=>{u.value==="알리스터"||u.value==="Alistair"||u.value==="alistair"?(x(p),l.value=!1,o.value="그래, 이제 다 끝났어.",setTimeout(()=>{s.push("/outro")},1e3)):(x(t),l.value=!0,c(g,!1))};E(()=>{c(_,!1)});const S=()=>{r.value=!0;let e=0;d=setInterval(()=>{e<f.value.length?(o.value+=f.value[e],e++):(clearInterval(d),r.value=!1)},100)},c=(e,I=!1)=>{d&&clearInterval(d),r.value&&(clearInterval(d),o.value="",r.value=!1);const v=document.querySelector(".narration-text");v&&v.classList.remove("visible"),o.value="",f.value=e,I?(o.value=e,r.value=!1):S(),setTimeout(()=>{v&&v.classList.add("visible")},1)};return{nameBtn:T,typingName:m,nameInput:u,textSubmit:h,showError:l,displayedText:o,errorMessage:g,displayText:c,nextSound:i,closeSound:t,openSound:p,playSound:x}},mounted(){this.$audio.play().catch(i=>{console.error("오디오 재생 오류:",i)})}},F={class:"page map4"},L={key:0,class:"nameBox"},q={class:"inputBox"},z=["disabled"],U={class:"narration"},j={class:"narration-border"},G={ref:"nextSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/페이지넘김.wav"},H={ref:"closeSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_4/문닫힘.mp3"},J={ref:"openSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_4/문열림.mp3"};function K(i,t,p,s,m,u){return b(),y(V,null,[a("div",F,[a("button",{class:"nameBtn",onClick:t[0]||(t[0]=(...l)=>s.nameBtn&&s.nameBtn(...l))},"문"),s.typingName?(b(),y("div",L,[t[4]||(t[4]=a("p",null,"내이름은",-1)),a("div",q,[D(a("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=l=>s.nameInput=l)},null,512),[[N,s.nameInput]])]),a("button",{class:"check",onClick:t[2]||(t[2]=(...l)=>s.textSubmit&&s.textSubmit(...l)),disabled:!s.nameInput},t[3]||(t[3]=[a("span",null,null,-1),w("확인")]),8,z)])):A("",!0),a("div",U,[a("div",j,[a("p",{class:C(["narration-text",{visible:s.displayedText}])},R(s.displayedText||i.defaultText),3)])])]),a("audio",G,null,512),a("audio",H,null,512),a("audio",J,null,512)],64)}const P=B(M,[["render",K],["__scopeId","data-v-58840b54"]]);export{P as default};
