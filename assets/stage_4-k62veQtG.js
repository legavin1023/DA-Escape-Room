import{_ as B,b as l,u as k,d as E,c as g,a,w as D,v as N,f as w,e as C,n as R,t as V,F as A,o as y}from"./index-CTYcOLXE.js";const M={setup(){const i=l(null),t=l(null),v=l(null),s=k(),p=l(!1),m=l(""),n=l(!1),_="여기서 나가야 해. 그게 맞겠지.",b="아니, 아니야…",o=l(_),f=l(""),u=l(!1);let r=null;const x=e=>{e.value&&(e.value.pause(),e.value.currentTime=0,e.value.play(),e.value.onended=()=>{e.value.pause(),e.value.currentTime=0})},T=()=>{p.value=!0,d("내 이름은...",!1)},h=()=>{m.value==="알리스터"?(x(v),n.value=!1,o.value="그래, 이제 다 끝났어.",setTimeout(()=>{s.push("/outro")},1e3)):(x(t),n.value=!0,d(b,!1))};E(()=>{d(_,!1)});const S=()=>{u.value=!0;let e=0;r=setInterval(()=>{e<f.value.length?(o.value+=f.value[e],e++):(clearInterval(r),u.value=!1)},100)},d=(e,I=!1)=>{r&&clearInterval(r),u.value&&(clearInterval(r),o.value="",u.value=!1);const c=document.querySelector(".narration-text");c&&c.classList.remove("visible"),o.value="",f.value=e,I?(o.value=e,u.value=!1):S(),setTimeout(()=>{c&&c.classList.add("visible")},1)};return{nameBtn:T,typingName:p,nameInput:m,textSubmit:h,showError:n,displayedText:o,errorMessage:b,displayText:d,nextSound:i,closeSound:t,openSound:v,playSound:x}},mounted(){this.$audio.play().catch(i=>{console.error("오디오 재생 오류:",i)})}},F={class:"page map4"},L={key:0,class:"nameBox"},q={class:"inputBox"},z=["disabled"],U={class:"narration"},j={class:"narration-border"},G={ref:"nextSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/페이지넘김.wav"},H={ref:"closeSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_4/문닫힘.mp3"},J={ref:"openSound",src:"https://legavin1023.github.io/DA-Escape-Room/sound/map_4/문열림.mp3"};function K(i,t,v,s,p,m){return y(),g(A,null,[a("div",F,[a("button",{class:"nameBtn",onClick:t[0]||(t[0]=(...n)=>s.nameBtn&&s.nameBtn(...n))},"문"),s.typingName?(y(),g("div",L,[t[4]||(t[4]=a("p",null,"내이름은",-1)),a("div",q,[D(a("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=n=>s.nameInput=n)},null,512),[[N,s.nameInput]])]),a("button",{class:"check",onClick:t[2]||(t[2]=(...n)=>s.textSubmit&&s.textSubmit(...n)),disabled:!s.nameInput},t[3]||(t[3]=[a("span",null,null,-1),w("확인")]),8,z)])):C("",!0),a("div",U,[a("div",j,[a("p",{class:R(["narration-text",{visible:s.displayedText}])},V(s.displayedText||i.defaultText),3)])])]),a("audio",G,null,512),a("audio",H,null,512),a("audio",J,null,512)],64)}const P=B(M,[["render",K],["__scopeId","data-v-01b4560a"]]);export{P as default};
